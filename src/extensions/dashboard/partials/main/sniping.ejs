<%# Finds channels %>
<% let channels = bot.guilds.get(guild.id).channels.map(c => ({name: c.name, id: c.id, type: c.type}));
channels = channels.filter(c => c.type === 0);
channels = channels.filter(c => bot.guilds.get(guild.id).channels.get(c.id).permissionsOf(bot.user.id).has("sendMessages")); %>

<h2 class="title is-3" id="sniping"><i class="fas fa-comment-slash icons" style="padding-right: 5px;"></i>Message Sniping</h2>
<p class="subtitle has-text-white">Configures how message sniping works.</p>

<div class="columns">
  <div class="column is-narrow">
    <div class="field">
      <p class="title is-size-4">Message Sniping</p>
      <p class="subtitle is-size-6 has-text-white">Enables deleted message viewing with the snipe command.</p>
      <div id="snipingEnable" class="control">
        <label class="radio">
          <input type="radio" name="snipingEnable" checked> Enabled </input>
        </label>
        <label class="radio">
          <input type="radio" name="snipingEnable"> Disabled </input>
        </label>
      </div>
    </div>

    <br>

    <div class="field">
      <p class="title is-size-4">Snipe Invites</p>
      <p class="subtitle is-size-6 has-text-white">Controls whether Discord invites should be sniped.</p>
      <div id="snipingInvites" class="control">
        <label class="radio">
          <input type="radio" name="snipingInvites"> Enabled </input>
        </label>
        <label class="radio">
          <input type="radio" name="snipingInvites"> Disabled </input>
        </label>
      </div>
    </div>
  </div>

  <br>

  <div class="column is-narrow">
    <div class="field">
      <p class="title is-size-4">Ignored Snipe Channels</p>
      <p class="subtitle is-size-6 has-text-white">Channels the snipe command should ignore.</p>
      <div class="control">
        <div id="snipingIgnore" class="select">
          <select multiple="multiple" class="multiple-select">
            <% for(let i = 0; i < channels.length; i++) { %>
            <% let channel = channels[i] %>
            <option><%= channel.name %> (<%= channel.id %>)</option>
            <% } %>
          </select>
        </div>
      </div>

      <br>

      <div class="field">
        <p class="title is-size-4">Sniping Permission</p>
        <p class="subtitle is-size-6 has-text-white">Controls who can use the snipe command.</p>
        <div id="snipingPermission" class="control">
          <label class="radio">
            <input type="radio" name="snipingPermission"> Public </input>
          </label>
          <label class="radio">
            <input type="radio" name="snipingPermission" checked> Staff Only </input>
          </label>
        </div>
      </div>
    </div>
  </div>
</div>

<br>
