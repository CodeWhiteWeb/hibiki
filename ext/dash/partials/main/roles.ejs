<% let roles = bot.guilds.get(guild.id).roles.map(r => ({name: r.name, managed: r.managed, color: r.color.toString(16), id: r.id}));
roles.splice(roles.find(r => r.name === "@everyone"), 1);
roles = roles.filter(r => !r.managed); %>

<h2 class="title is-3" id="roles"><i class="fas fa-user-tag icons" style="padding-right: 5px;"></i>Roles</h2>
<p class="subtitle has-text-white">Roles used for certain actions.</p>

<div class="columns">
  <div class="column is-narrow">
    <div class="field">
      <p class="title is-size-4">Agree Role</p>
      <p class="subtitle is-size-6 has-text-white">Role given when a member runs the agree command.</p>
      <div class="control">
        <div id="agreeRole" class="select">
          <select>
            <option id="none">None</option>
            <% for(let i = 0; i < roles.length; i++) { %>
            <% let role = roles[i] %>
            <option id=<%=role.id%>><%= role.name %></option>
            <% } %>
          </select>
        </div>
      </div>
    </div>

    <br>

    <div class="field">
      <p class="title is-size-4">Assignable Roles</p>
      <p class="subtitle is-size-6 has-text-white">Roles that other members can assign to themselves.</p>
      <div class="control">
        <div id="assignableRoles" class="select">
          <select multiple="multiple" class="multiple-select">
            <% for(let i = 0; i < roles.length; i++) { %>
            <% let role = roles[i] %>
            <option><%= role.name %> (<%= role.id %>)</option>
            <% } %>
          </select>
        </div>
      </div>
    </div>

    <br>

    <div class="field">
      <p class="title is-size-4">Staff Role</p>
      <p class="subtitle is-size-6 has-text-white">Role that determines if a member can run staff commands.</p>
      <div class="control">
        <div id="staffRole" class="select">
          <select>
            <option id="none">None</option>
            <% for(let i = 0; i < roles.length; i++) { %>
            <% let role = roles[i] %>
            <option id=<%=role.id%>><%= role.name %></option>
            <% } %>
          </select>
        </div>
      </div>
    </div>
  </div>

  <br>

  <div class="column is-narrow">
    <div class="field">
      <p class="title is-size-4">Muted Role</p>
      <p class="subtitle is-size-6 has-text-white">Role given to a member when they're muted.</p>
      <div class="control">
        <div id="mutedRole" class="select">
          <select>
            <option id="none">None</option>
            <% for(let i = 0; i < roles.length; i++) { %>
            <% let role = roles[i] %>
            <option id=<%=role.id%>><%= role.name %></option>
            <% } %>
          </select>
        </div>
      </div>
    </div>

    <br>

    <div class="field">
      <p class="title is-size-4">Automatic Roles</p>
      <p class="subtitle is-size-6 has-text-white">Roles given to a member when they join.</p>
      <div class="control">
        <div id="autoRoles" class="select">
          <select multiple="multiple" class="multiple-select">
            <% for(let i = 0; i < roles.length; i++) { %>
            <% let role = roles[i] %>
            <option><%= role.name %> (<%= role.id %>)</option>
            <% } %>
          </select>
        </div>
      </div>
    </div>

    <br>

    <div class="field">
      <p class="title is-size-4">Verified Role</p>
      <p class="subtitle is-size-6 has-text-white">Role given to a member when they're verified.</p>
      <div class="control">
        <div id="verifiedRole" class="select">
          <select>
            <option id="none">None</option>
            <% for(let i = 0; i < roles.length; i++) { let role = roles[i] %>
            <option id=<%=role.id%>><%= role.name %></option>
            <% } %>
          </select>
        </div>
      </div>
    </div>
  </div>
</div>

<br>
